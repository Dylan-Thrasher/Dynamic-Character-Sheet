<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- the link sets up bootstrap to apply to the html page -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css">
    <!-- establishes papaparse which converts json to csv -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.1/papaparse.min.js"></script>
</head>

<body>
<div class="container">
<form id="charSheet" name="characterSheet">
    <div class="row">
        <div class="col-4">
            <h2>Player</h2>
            <input name="PlayerName" id="playerSelect" onchange="LoadPlayer()" list="players"/>
            <datalist id="players"></datalist>
            <br><br>
            <h2>Character</h2>
            <input name="CharacterName" id="characterSelect" onchange="LoadCharacter()" list="characters"/>
            <datalist id="characters"></datalist>
            <br><br>
            <h2>Level</h2>
            <!-- level determines proficiency bonus through onchange -->
            <input name="Level" type="number" id="playerLevel" min="1" max="20" value="1" onchange="SetProficiencyBonus()">
            <br><br>
            <h2>Ability Scores</h2>
            <br>
            <table class="table">
                <tr>
                    <th>Ability</th>
                    <th>Score</th>
                    <th>Mod</th>
                </tr>
                <tr>
                    <td>Strength</td>
                    <td>
                        <!-- When changed, updates the value of related Modifier -->
                        <input name="STR" type="number" value="10" id="strScore" onchange="UpdateModifiers()">
                    </td>
                    <td>
                        <input type="number" value="0" id="strMod">
                    </td>
                </tr>
                <tr>
                    <td>Dexterity</td>
                    <td>
                        <input name="DEX" type="number" value="10" id="dexScore" onchange="UpdateModifiers()">
                    </td>
                    <td>
                        <input type="number" value="0" id="dexMod">
                    </td>
                </tr>
                <tr>
                    <td>Constitution</td>
                    <td>
                        <input name="CON" type="number" value="10" id="conScore" onchange="UpdateModifiers()">
                    </td>
                    <td>
                        <input type="number" value="0" id="conMod">
                    </td>
                </tr>
                <tr>
                    <td>Intelligence</td>
                    <td>
                        <input name="INT" type="number" value="10" id="intScore" onchange="UpdateModifiers()">
                    </td>
                    <td>
                        <input type="number" value="0" id="intMod">
                    </td>
                </tr>
                <tr>
                    <td>Wisdom</td>
                    <td>
                        <input name="WIS" type="number" value="10" id="wisScore" onchange="UpdateModifiers()">
                    </td>
                    <td>
                        <input type="number" value="0" id="wisMod">
                    </td>
                </tr>
                <tr>
                    <td>Charisma</td>
                    <td>
                        <input name="CHA" type="number" value="10" id="chaScore" onchange="UpdateModifiers()">
                    </td>
                    <td>
                        <input type="number" value="0" id="chaMod">
                    </td>
                </tr>
            </table>
            <div class="text-center">
            <div class="btn btn-success" onclick="SaveData()">Save Data</div>
            </div>
            <br>
            <div class="text-center">
            <div class="btn btn-info" onclick="LoadData()">Load Data</div>
            </div>
        </div>

        <div class="col-4">
            <h2>Armor</h2>
            <h6>Equipped Armor</h6>
            <select name="Armor" id="equippedArmor" onchange="UpdateAC()">
                <option value="unarmored">None</option>
                <optgroup id="lightArmor" value="Light Armor" label="Light Armor">
                    <option value="padded">Padded</option>
                    <option value="leather">Leather</option>
                    <option value="studded">Studded Leather</option>
                </optgroup>
                <optgroup id="mediumArmor" value="Medium Armor" label="Medium Armor">
                    <option value="hide">Hide</option>
                    <option value="chain">Chain Shirt</option>
                    <option value="scale">Scale Mail</option>
                    <option value="breastplate">Breastplate</option>
                </optgroup>
                <optgroup id="heavyArmor" value="Heavy Armor" label="Heavy Armor">
                    <option value="ringmail">Ring Mail</option>
                    <option id="chainmailArmor" value="chainmail">Chain Mail</option>
                    <option id="splintArmor" value="splint">Splint</option>
                    <option id="plateArmor" value="plate">Plate</option>
                </optgroup>
            </select>

            <br><br>
            <h6>Equipped Shield:</h6>
            <select name="Shield" id="equippedShield" onchange="UpdateAC()">
                <option value="none">None</option>
                <option value="shield">Shield</option>
            </select>
            <br><br>

            <h6>AC:</h6>
            <input type="number" id="armorClass" placeholder="0">

            <br><br>

            <div class="center-me">
                <h2>Hit Points</h2>
                <span>HP: </span>
                <input name="HP" class="stat" type="number" id="currentHP"> /
                <input name="MaxHP" class="stat" type="number" id="maxHP">
            </div>

            <br>

            <div class="center-me">
                <span class="btn btn-danger" onclick="TakeDamage()">Damage</span>
                <input type="number" class="stat" id="modHP" min="0"/>
                <span class="btn btn-success" onclick="HealHP()">Heal</span>
            </div>

            <br>

            <div class="center-me">
                
            </div>
        </div>
    </div>
</form>
</div>
</body>

</html>